<div class="bg-trang">
  <div nz-row [nzGutter]="24">
    <div nz-col nzXs="24" nzSm="24" nzMd="10" nzLg="10">
      <nz-card nzTitle="" class="card-tree">
        <div class="group-button">
          <h3>Danh sách đơn vị</h3>
          <div class="buttons">
            <button type="button" class="btn btn-main" (click)="create()">
              <i class="icon htvbdh_dau-cong"></i>
              <span>Thêm</span>
            </button>
          </div>
        </div>
        <nz-input-group [nzSuffix]="suffixIcon">
          <input type="text" nz-input placeholder="Search" [(ngModel)]="searchValue" />
        </nz-input-group>
        <ng-template #suffixIcon>
          <i nz-icon nzType="search"></i>
        </ng-template>
        <nz-tree #nzTreeComponent [nzData]="nodes" (nzClick)="nzClickNodeTree($event)"
          (nzContextMenu)="nzClickNodeTree($event)" [nzSearchValue]="searchValue">
        </nz-tree>
      </nz-card>
    </div>
    <div nz-col nzXs="24" nzSm="24" nzMd="14" nzLg="14">
      <nz-card>
        <div class="group-button">
          <h3>Thông tin chi tiết đơn vị</h3>
          <div class="buttons">
            <button nz-button class="btn btn-sub do" (click)="delete()">
              <i class="fa fa-trash-o do"></i>
              Xóa
            </button>
            <button nz-button class="btn btn-sub xanh-nhat" (click)="update()">
              <i class="fa fa-save"></i>
              Lưu
            </button>
          </div>
        </div>
        <form nz-form [formGroup]="detailDonVi" [nzLayout]="'vertical'">
          <div nz-row [nzGutter]="24">
            <div nz-col nzXs="24" nzSm="24" nzMd="18" nzLg="18" *ngIf="nodeDetail?.maDviCha">
              <nz-form-item>
                <nz-form-label nzRequired>Đơn vị cấp trên</nz-form-label>
                <nz-form-control>
                  <nz-tree-select #nzTreeSelectComponent [nzNodes]="nodes" [nzDefaultExpandAll]="true"
                    [nzDropdownMatchSelectWidth]="true" nzShowSearch nzVirtualHeight="300px"
                    nzPlaceHolder="Vui lòng chọn" formControlName="maDviCha">
                  </nz-tree-select>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="6" nzLg="6" *ngIf="nodeDetail?.maDviCha">
              <nz-form-item>
                <nz-form-label nzRequired>Mã đơn vị cấp trên</nz-form-label>
                <nz-form-control>
                  <nz-input-group>
                    <input nz-input readonly formControlName="maDviCha" />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="18" nzLg="18">
              <nz-form-item>
                <nz-form-label nzRequired>Tên đơn vị</nz-form-label>
                <nz-form-control>
                  <nz-input-group nzErrorTip="Tên đơn vị là bắt buộc!">
                    <input nz-input formControlName="tenDvi" />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="6" nzLg="6">
              <nz-form-item>
                <nz-form-label>Mã đơn vị</nz-form-label>
                <input nz-input formControlName="maDvi" [readonly]="true" />
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24">
              <nz-form-item>
                <nz-form-label>Địa chỉ</nz-form-label>
                <input nz-input formControlName="diaChi" />
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8">
              <nz-form-item>
                <nz-form-label>SĐT</nz-form-label>
                <input nz-input formControlName="sdt" />
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8">
              <nz-form-item>
                <nz-form-label>Fax</nz-form-label>
                <input nz-input formControlName="fax" />
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8">
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8">
              <nz-form-item>
                <nz-form-label>Trạng thái</nz-form-label>
                <label nz-checkbox formControlName="trangThai">Hoạt động/Không hoạt động</label>
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8">
              <nz-form-item>
                <nz-form-label></nz-form-label>
                <label nz-checkbox formControlName="trangThai">Có mạng lưới kho</label>
              </nz-form-item>
            </div>
            <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24">
              <nz-form-item>
                <nz-form-label>Ghi chú</nz-form-label>
                <nz-form-control>
                  <textarea nz-input [rows]="3" formControlName="ghiChu"></textarea>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </form>
      </nz-card>
    </div>
  </div>
</div>