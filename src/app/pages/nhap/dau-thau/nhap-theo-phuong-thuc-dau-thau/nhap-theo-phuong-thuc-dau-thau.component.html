<div *ngIf="userService.isChiCuc() || userService.isCuc() ">
    <nz-affix class="menu-lv3" [nzOffsetTop]="43">
        <div class="tab-content tab-menu" id="myTabContent">
            <div class="tab-pane fade show active justify-content-between" id="banhanh" role="tabpanel"
                aria-labelledby="banhanh-tab">
                <div class="trai">
                    <a class="btn btn-outline-grey btn-sm waves-effect waves-light mr-2">
                        <i class="fa fa-arrow-circle-left"></i>
                    </a>
                    <nz-breadcrumb>
                        <nz-breadcrumb-item>
                            <a [routerLink]="">Nhập</a>
                        </nz-breadcrumb-item>
                        <nz-breadcrumb-item>
                            <a [routerLink]="">Nhập theo kế hoạch</a>
                        </nz-breadcrumb-item>
                        <nz-breadcrumb-item>
                            <a [routerLink]="">Nhập theo phương thức đấu thầu</a>
                        </nz-breadcrumb-item>
                        <nz-breadcrumb-item>
                            <a [routerLink]="">{{loaiVthh}}</a>
                        </nz-breadcrumb-item>
                        <nz-breadcrumb-item class="last-breadcrumb">{{userService.isCuc() ? 'Cục' : 'Chi Cục' }}
                        </nz-breadcrumb-item>
                    </nz-breadcrumb>
                </div>
            </div>
        </div>
    </nz-affix>
    <div class="luong-thuc__danh-sach">
        <div class="contentBor chi-tieu__body">
            <div class="contentDetail">
                <div class="main-content">
                    <nz-card nzTitle="THÔNG TIN CHUNG" class="mt16 flex-card p-lr16">
                        <div class="search__body" nz-row [nzGutter]="[18, 12]">
                            <div nz-col nzSpan="12">
                                <label class="search__label">Số quyết định</label>
                                <input class="search__input" placeholder="Số quyết định" nz-input
                                    [(ngModel)]="searchFilter.soQD" />
                            </div>
                            <div nz-col nzSpan="6">
                                <label class="search__label">Ngày quyết định</label>
                                <nz-range-picker [(ngModel)]="searchFilter.ngayQuyetDinh" nzFormat="dd/MM/yyyy">
                                </nz-range-picker>
                            </div>
                            <div nz-col nzSpan="6">
                                <label class="search__label">Năm nhập</label>
                                <nz-select [(ngModel)]="searchFilter.namNhap">
                                    <nz-option *ngFor="let p of listNam" [nzValue]="p.value" [nzLabel]="p.text">
                                    </nz-option>
                                </nz-select>
                            </div>
                            <div nz-col nzSpan="24">
                                <label class="search__label">Nội dung công văn</label>
                                <nz-input-group nzAddOnAfterIcon="folder-open">
                                    <input nz-input [(ngModel)]="searchFilter.noiDungCongVan"
                                        placeholder="Nội dung công văn" />
                                </nz-input-group>
                            </div>
                        </div>
                        <div class="cangiua group-button-search">
                            <button nz-button class="search__button--search" (click)="search()">
                                <i nz-icon nzType="search"></i>
                                Tìm kiếm
                            </button>
                            <button nz-button class="search__button--clear" (click)="clearFilter()">
                                <i nz-icon nzType="close"></i>
                                Xóa điều kiện
                            </button>
                        </div>
                    </nz-card>
                    <nz-card nzTitle="Danh sách quyết định giao nhiệm vụ nhập hàng" [nzExtra]="tableCard1"
                        class="mt-16 flex-card p-lr16">
                        <nz-table #basicTable class="nowrap" [nzData]="dataTable" [nzFrontPagination]="false"
                            [nzShowPagination]="false">
                            <thead>
                                <tr>
                                    <th class="text-center" width="60px">STT</th>
                                    <th width="45px">
                                        <label nz-checkbox></label>
                                    </th>
                                    <th width="130px">Số QĐ</th>
                                    <th width="175px">Ngày QĐ</th>
                                    <th width="175px">Năm nhập</th>
                                    <th width="">Nội dung công văn</th>
                                    <th width="175px">Trạng thái </th>
                                    <th width="130px"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let data of basicTable.data; let i = index">
                                    <td class="text-center">{{(page-1)*pageSize+i+1}}</td>
                                    <th width="45px">
                                        <label nz-checkbox></label>
                                    </th>
                                    <td>{{ data.soQd }}</td>
                                    <td>{{ data.ngayQdinh }}</td>
                                    <td>{{ data.namNhap }}</td>
                                    <td>{{ data.veViec }}</td>
                                    <td>{{ convertTrangThai(data.trangThai) }}</td>
                                    <td class="text-center">
                                        <a (click)="redirectToChiTiet(data.id)" *ngIf="userService.isCuc()">
                                            <i class="fa fa-pencil"></i>
                                        </a>
                                        <a (click)="xemDanhSachQuyetDinh()">
                                            <span class="icon htvbdh_eye"></span>
                                        </a>
                                        <a (click)="chiTietQuyetDinh(true, data.id)" *ngIf="userService.isChiCuc()">
                                            <span class="icon htvbdh_xemthem"></span>
                                        </a>
                                        <a (click)="chiTietQuyetDinh(false, data.id)" *ngIf="userService.isChiCuc()">
                                            <span class="icon htvbdh_tcdt_pheduyet"></span>
                                        </a>
                                        <a (click)="xoaItem(data)" *ngIf="userService.isCuc()">
                                            <i class="fa fa-trash-o do"></i>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </nz-table>
                        <div class="tab-content tab-menu" id="myTabContent">
                            <div class="tab-pane fade show active justify-content-between">
                                <div class="trai">

                                </div>
                                <div class="canphai">
                                    <!-- begin phân trang  -->
                                    <nz-pagination class="pagination-card" [nzPageIndex]="page" [nzTotal]="totalRecord"
                                        nzShowSizeChanger [nzPageSize]="pageSize" [nzShowTotal]="rangeTemplate"
                                        (nzPageIndexChange)="changePageIndex($event)"
                                        (nzPageSizeChange)="changePageSize($event)">
                                        <ng-template #rangeTemplate let-range="range" let-total>
                                            {{ range[0] }}-{{ range[1] }} of {{ total }} items
                                        </ng-template>
                                    </nz-pagination>
                                    <!-- end phân trang  -->
                                </div>
                            </div>
                        </div>
                    </nz-card>
                    <ng-template #tableCard1>
                        <button type="button" class="btn btn-main" *ngIf="userService.isCuc()"
                            (click)="redirectToChiTiet(0)">
                            <i class="icon htvbdh_dau-cong"></i>
                            <span>Thêm</span>
                        </button>
                        <button type="button" class="btn btn-sub" (click)="export()">
                            <i class="icon htvbdh_chuyen-xu-ly"></i>
                            <span>Export</span>
                        </button>
                    </ng-template>
                </div>
            </div>
        </div>
    </div>
</div>