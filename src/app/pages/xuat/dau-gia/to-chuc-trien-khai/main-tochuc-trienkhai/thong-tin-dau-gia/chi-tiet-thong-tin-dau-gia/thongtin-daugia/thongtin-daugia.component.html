<nz-card class="flex-card p-lr16 scroll-modal">
    <nz-collapse>
        <nz-collapse-panel nzActive="true" nzHeader="Thông báo bán đấu giá">
            <form nzLayout="vertical" [formGroup]="formData" nz-form>
                <div nz-row [nzGutter]="[24, 16]">
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Mã thông báo bán đấu giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="maThongBao" readonly />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="18">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Trích yếu</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="trichYeuTbao" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <!-- <h3>Thông tin về tổ chức bán đấu giá</h3> -->
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Tên tổ chức bán đấu giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="tenToChuc" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label [nzNoColon]="true"> Điện thoại</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="sdtToChuc" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="12">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true">Địa chỉ</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="diaChiToChuc" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="24">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true">Tk ngân hàng của tổ chức bđg</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <textarea rows="3" nz-input formControlName="taiKhoanToChuc"
                                        [readonly]="isDisabled()"></textarea>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label [nzNoColon]="true"> Số hợp đồng</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="soHd" [readonly]="true" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label [nzNoColon]="true"> Ngày ký hợp đồng</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="ngayKyHd" [readonly]="true" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="12">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Hình thức lựa chọn tổ chức bán đấu
                                giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="hthucTchuc" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <!-- <h3>Thông tin bán đấu giá</h3> -->
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Thời hạn đăng ký tham gia đấu
                                giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <nz-range-picker formControlName="tgianDky" nzFormat="dd/MM/yyyy"
                                        [nzDisabled]="isDisabled()"></nz-range-picker>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label [nzNoColon]="true"> Lưu ý về thời gian đăng ký</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="ghiChuTgianDky" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="12">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Địa điểm mua, nộp hồ sơ đăng
                                ký</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="diaDiemDky" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Điều kiện đăng ký tham gia đấu
                                giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="dieuKienDky" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Tiền mua hồ sơ(VNĐ/1 hồ sơ /1 đơn vị tài
                                sản)</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="tienMuaHoSo" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="12">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Bước giá của từng đơn vị tài sản
                                (%)</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="buocGia" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Thời hạn tổ chức xem tài sản</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <nz-range-picker formControlName="tgianXem" nzFormat="dd/MM/yyyy"
                                        [nzDisabled]="isDisabled()"></nz-range-picker>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Lưu ý về thời gian xem tài sản</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="ghiChuTgianXem" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="12">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Địa điểm tổ chức xem tài sản</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="diaDiemXem" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Thời hạn nộp tiền đặt trước</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <nz-range-picker formControlName="tgianNopTien" nzFormat="dd/MM/yyyy"
                                        [nzDisabled]="isDisabled()"></nz-range-picker>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label [nzNoColon]="true"> Lưu ý về thời gian xem tài sản</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="ghiChuTgianNopTien" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="12">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Phương thức thanh toán</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="pthucTtoan" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Đơn vị thụ hưởng</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="donViThuHuong" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true">Số tài khoản</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="stkThuHuong" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true">Ngân hàng</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="nganHangThuHuong" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true">Chi nhánh ngân hàng</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="chiNhanhNganHang" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Thời gian tổ chức cuộc đấu giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <nz-range-picker formControlName="tgianDauGia" nzFormat="dd/MM/yyyy"
                                        [nzDisabled]="isDisabled()"></nz-range-picker>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Địa điểm tổ chức đấu giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="diaDiemDauGia" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Hình thức đấu giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="hthucDgia" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Phương thức đấu giá</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="pthucDgia" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="24">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Điều kiện, cách thức đăng ký tham
                                gia</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <textarea rows="3" nz-input formControlName="dkienCthuc"
                                        [readonly]="isDisabled()"></textarea>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col [nzSpan]="24">
                        <nz-form-item>
                            <nz-form-label [nzNoColon]="true" [nzSpan]="24">
                                Tài liệu đính kèm
                            </nz-form-label>
                            <div class="list-file" nz-col nzSpan="24">
                                <file-list [disabled]="isDisabled()"></file-list>
                            </div>
                        </nz-form-item>
                    </div>
                    <div nz-col nzSpan="24">
                        <nz-form-item>
                            <nz-form-label [nzNoColon]="true"> Ghi chú</nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <textarea rows="3" nz-input formControlName="ghiChu"
                                        [readonly]="isDisabled()"></textarea>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
            </form>
        </nz-collapse-panel>
    </nz-collapse>
    <nz-collapse>
        <nz-collapse-panel nzActive="true" nzHeader="Kết quả tổ chức đấu giá">
            <form nz-form nzLayout="vertical" [formGroup]="formData">
                <div nz-row [nzGutter]="[20]">
                    <div nz-col nzSpan="24">
                        <nz-form-control nz-col [nzErrorTip]="error">
                            <nz-radio-group formControlName="ketQua" [nzDisabled]="isDisabled()">
                                <label nz-radio nzValue="1">Đấu giá thành công</label>
                                <label nz-radio nzValue="0">Đấu giá không thành công</label>
                            </nz-radio-group>
                        </nz-form-control>
                    </div>
                </div>
                <div nz-row [nzGutter]="[20]" class="mg-t-10">
                    <div nz-col nzSpan="6">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Số biên bản bán đấu giá
                            </nz-form-label>
                            <nz-form-control nz-col [nzErrorTip]="error">
                                <input nz-input formControlName="soBienBan" readonly />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col [nzSpan]="14">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Trích yếu </nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <input nz-input formControlName="trichYeuBban" [readonly]="isDisabled()" />
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col [nzSpan]="4">
                        <nz-form-item>
                            <nz-form-label nzRequired [nzNoColon]="true"> Ngày ký biên bản </nz-form-label>
                            <nz-form-control [nzErrorTip]="error">
                                <nz-input-group>
                                    <nz-date-picker formControlName="ngayKyBban" nzFormat="dd/MM/yyyy"
                                        [nzDisabled]="isDisabled()">
                                    </nz-date-picker>
                                </nz-input-group>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
            </form>
        </nz-collapse-panel>
    </nz-collapse>
    <nz-collapse *ngIf="formData.value.ketQua == 1">
        <nz-collapse-panel nzActive="true" nzHeader="Thành phần tham dự">
            <div class="group-button">
                <h3>Khách mời chứng kiến</h3>
            </div>
            <nz-table class="pd-10" nzBordered [nzData]="dataNguoiTgia">
                <thead>
                    <tr>
                        <th nzWidth="30px">STT</th>
                        <th>Họ và tên</th>
                        <th>Chức vụ</th>
                        <th>Nơi công tác</th>
                        <th nzWidth="50px" *ngIf="!isDisabled()">Hành động</th>
                    </tr>
                    <tr *ngIf="!isDisabled()">
                        <th></th>
                        <th><input nz-input [(ngModel)]="rowItemKhach.hoVaTen" /></th>
                        <th><input nz-input [(ngModel)]="rowItemKhach.chucVu" /></th>
                        <th><input nz-input [(ngModel)]="rowItemKhach.diaChi" /></th>
                        <th>
                            <a (click)="addRow(rowItemKhach,'KM')">
                                <i class="fa fa-plus"></i>
                            </a>
                            <a (click)="clearRow()">
                                <i class="fa fa-refresh "></i>
                            </a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngFor="let data of findTableName('KM')?.dataChild , let i = index">
                        <tr>
                            <td>{{i+1}}</td>
                            <td>{{data.hoVaTen}}</td>
                            <td>{{data.chucVu}}</td>
                            <td>{{data.diaChi}}</td>
                            <td *ngIf="!isDisabled()">
                                <a (click)="editRow(data.idVirtual)">
                                    <i class=" fa fa-pencil"></i>
                                </a>
                                <a (click)="deleteRow(data.idVirtual)">
                                    <i class="fa fa-trash-o do"></i>
                                </a>
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
            </nz-table>
            <div class="group-button">
                <h3>Đấu giá viên</h3>
            </div>
            <nz-table class="pd-10" nzBordered [nzData]="dataNguoiTgia">
                <thead>
                    <tr>
                        <th nzWidth="30px">STT</th>
                        <th>Họ và tên</th>
                        <th>Chức vụ</th>
                        <th>Nơi công tác</th>
                        <th nzWidth="50px" *ngIf="!isDisabled()">Hành động</th>
                    </tr>
                    <tr *ngIf="!isDisabled()">
                        <th></th>
                        <th><input nz-input [(ngModel)]="rowItemDgv.hoVaTen" /></th>
                        <th><input nz-input [(ngModel)]="rowItemDgv.chucVu" /></th>
                        <th><input nz-input [(ngModel)]="rowItemDgv.diaChi" /></th>
                        <th>
                            <a (click)="addRow(rowItemDgv,'DGV')">
                                <i class="fa fa-plus"></i>
                            </a>
                            <a (click)="clearRow()">
                                <i class="fa fa-refresh "></i>
                            </a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngFor="let data of findTableName('DGV')?.dataChild , let i = index">
                        <tr>
                            <td>{{i+1}}</td>
                            <td>{{data.hoVaTen}}</td>
                            <td>{{data.chucVu}}</td>
                            <td>{{data.diaChi}}</td>
                            <td *ngIf="!isDisabled()">
                                <a (click)="editRow(data.idVirtual)">
                                    <i class=" fa fa-pencil"></i>
                                </a>
                                <a (click)="deleteRow(data.idVirtual)">
                                    <i class="fa fa-trash-o do"></i>
                                </a>
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
            </nz-table>
            <div class="group-button">
                <h3>Tổ chức/ cá nhân tham giá đấu giá</h3>
            </div>
            <nz-table class="pd-10" nzBordered [nzData]="dataNguoiTgia">
                <thead>
                    <tr>
                        <th nzWidth="30px">STT</th>
                        <th>Họ và tên/ Tên tổ chức</th>
                        <th>Mã số thuế/CMTND/CCCD/Hộ chiếu</th>
                        <th>Địa chỉ</th>
                        <th nzWidth="50px" *ngIf="!isDisabled()">Hành động</th>
                    </tr>
                    <tr *ngIf="!isDisabled()">
                        <th></th>
                        <th><input nz-input [(ngModel)]="rowItemToChuc.hoVaTen" /></th>
                        <th><input nz-input [(ngModel)]="rowItemToChuc.soCccd" /></th>
                        <th><input nz-input [(ngModel)]="rowItemToChuc.diaChi" /></th>
                        <th>
                            <a (click)="addRow(rowItemToChuc,'NTG')">
                                <i class="fa fa-plus"></i>
                            </a>
                            <a (click)="clearRow()">
                                <i class="fa fa-refresh "></i>
                            </a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngFor="let data of findTableName('NTG')?.dataChild , let i = index">
                        <tr>
                            <td>{{i+1}}</td>
                            <td>{{data.hoVaTen}}</td>
                            <td>{{data.soCccd}}</td>
                            <td>{{data.diaChi}}</td>
                            <td *ngIf="!isDisabled()">
                                <a (click)="editRow(data.idVirtual)">
                                    <i class=" fa fa-pencil"></i>
                                </a>
                                <a (click)="deleteRow(data.idVirtual)">
                                    <i class="fa fa-trash-o do"></i>
                                </a>
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
            </nz-table>
        </nz-collapse-panel>
    </nz-collapse>
    <nz-collapse>
        <nz-collapse-panel nzActive="true" nzHeader="Số lượng, địa điểm xuất bán(nơi đang bảo quản và quản lý tài sản)">
            <nz-table class="pd-10 " [nzScroll]="{ x: '1400px' }" nzBordered [nzData]="dataTable">
                <thead>
                    <tr>
                        <th nzLeft nzWidth="50px"></th>
                        <th nzLeft nzWidth="200px" class="text-center wrap">Chi cục</th>
                        <th nzLeft nzWidth="70px" class="text-center wrap">Mã đơn vị tài sản</th>
                        <th nzWidth="250px" class="text-center wrap">Địa điểm</th>
                        <th nzWidth="100px" class="text-center wrap">SL xuất bán đề xuất</th>
                        <th nzWidth="50px" class="text-center wrap">ĐVT</th>
                        <th nzWidth="100px" class="text-center wrap">Đơn giá đề xuất (đ/kg)</th>
                        <th nzWidth="100px" class="text-center wrap">Giá khởi điểm đề xuất (đ)</th>
                        <th nzWidth="100px" class="text-center wrap">Đơn giá được duyệt VAT (đ/kg)</th>
                        <th nzWidth="100px" class="text-center wrap">Giá khởi điểm được duyệt (đ)</th>
                        <th nzWidth="100px" class="text-center wrap">Số tiền đặt trước đề xuất (đ)</th>
                        <th nzWidth="100px" class="text-center wrap">Số tiền đặt trước được duyệt (đ)</th>
                        <th nzWidth="100px" class="text-center wrap">Số lần trả giá</th>
                        <th nzWidth="100px" class="text-center wrap">Đơn giá cao nhất ( đồng )</th>
                        <th nzWidth="100px" class="text-center wrap">Thành tiền đồng</th>
                        <th nzWidth="100px" class="text-center wrap">Tổ chức/ cá nhân trả giá cao nhất</th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngFor="let item of dataTable , let i = index">
                        <tr>
                            <td nzLeft [nzExpand]="expandSet.has(i)" (nzExpandChange)="onExpandChange(i, $event)"></td>
                            <td nzLeft>{{item.tenDvi}}</td>
                            <td nzLeft></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <ng-container *ngIf="expandSet.has(i)">
                            <ng-container *ngFor="let dviTsan of item.dataDviTsan, let y = index">
                                <tr>
                                    <td nzLeft></td>
                                    <td nzLeft [nzExpand]="expandSet2.has(y)"
                                        (nzExpandChange)="onExpandChange2(y, $event)">
                                    </td>
                                    <td nzLeft>{{dviTsan.maDviTsan}}</td>
                                    <td></td>
                                    <td>{{ calendarSoLuong(dviTsan) | number : '1.0-1' : 'vi_VN'}}</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><nz-input-number [nzDisabled]="isDisabled() || formData.value.ketQua == 0"
                                            [nzFormatter]="globals.formatter" [nzParser]="globals.parser" nz-input
                                            [(ngModel)]="dviTsan.soLanTraGia"></nz-input-number></td>
                                    <td><nz-input-number [nzDisabled]="isDisabled() || formData.value.ketQua == 0"
                                            [nzFormatter]="globals.formatter" [nzParser]="globals.parser" nz-input
                                            [(ngModel)]="dviTsan.donGiaTraGia"></nz-input-number></td>
                                    <td>{{ calendarSoLuong(dviTsan) * dviTsan.donGiaTraGia | number : '1.0-1' :
                                        'vi_VN'}}</td>
                                    <td><input [readonly]="isDisabled() || formData.value.ketQua == 0" nz-input
                                            [(ngModel)]="dviTsan.toChucCaNhan" />
                                    </td>
                                </tr>
                                <ng-container *ngIf="expandSet2.has(y)">
                                    <tr *ngFor="let children of dviTsan.children, let z = index">
                                        <td nzLeft></td>
                                        <td nzLeft></td>
                                        <td nzLeft></td>
                                        <td>{{children.tenDiemKho}},{{children.tenNhaKho}},{{children.tenNganKho}},{{children.tenLoKho}}
                                        </td>
                                        <td>{{children.soLuong | number : '1.0-1' : 'vi_VN'}}</td>
                                        <td>{{children.dviTinh}}</td>
                                        <td>{{children.donGiaDeXuat | number : '1.0-1' : 'vi_VN' }}</td>
                                        <td>{{children.donGiaDeXuat * children.soLuong | number : '1.0-1' : 'vi_VN'}}
                                        </td>
                                        <td>{{children.donGiaVat | number : '1.0-1' : 'vi_VN'}}</td>
                                        <td>{{children.donGiaVat * children.soLuong | number : '1.0-1' : 'vi_VN'}}</td>
                                        <td>{{ (children.soLuong * children.donGiaDeXuat) + (children.soLuong *
                                            children.donGiaDeXuat *
                                            formData.value.khoanTienDatTruoc /
                                            100 ) | number : '1.0-1' : 'vi_VN'}}</td>
                                        <td>{{ (children.soLuong * children.donGiaVat) + (children.soLuong *
                                            children.donGiaVat
                                            *
                                            formData.value.khoanTienDatTruoc / 100 ) |
                                            number : '1.0-1' : 'vi_VN'}}</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                    </ng-container>
                </tbody>
            </nz-table>
        </nz-collapse-panel>
    </nz-collapse>
    <ng-template #error let-control>
        <app-template-error #error [control]="control"></app-template-error>
    </ng-template>
</nz-card>
<div class="modal-footer" *ngIf="isModal">
    <div class="nut">
        <div class="cantrai">
        </div>
        <div class="canphai">
            <button nz-button (click)="handleCancel()" class="btn btn-sub do">
                <i nz-icon nzType="close" class="icon-close"></i>
                Đóng
            </button>
            &nbsp;
            <button nz-button (click)="handleOk()" class="modal__button--save">
                <i nz-icon nzType="save"></i>
                Lưu
            </button>
            &nbsp;
            <button nz-button (click)="confirmDone()" class="btn btn-sub xanh-nhat">
                <i nz-icon nzType="save"></i>
                Hoàn thành
            </button>
        </div>
    </div>
</div>