<div class="bg-trang">
  <div nz-row [nzGutter]="24">
    <div nz-col nzXs="24" nzSm="24" nzMd="7" nzLg="7">
      <nz-card>
        <div class="group-button">
          <h2>Danh sách mạng lưới kho</h2>
          <div class="buttons">
            <button type="button" class="btn btn-main" (click)="create()">
              <i class="icon htvbdh_dau-cong"></i>
              <span>Thêm</span>
            </button>
          </div>
        </div>
        <nz-input-group [nzSuffix]="suffixIcon">
          <input type="text" nz-input placeholder="Tìm kiếm" [(ngModel)]="searchValue"/>
        </nz-input-group>
        <ng-template #suffixIcon>
          <i nz-icon nzType="search"></i>
        </ng-template>
        <nz-tree #nzTreeComponent [nzData]="nodes" (nzClick)="nzClickNodeTree($event)"
                 (nzContextMenu)="nzClickNodeTree($event)" [nzSearchValue]="searchValue">
        </nz-tree>
      </nz-card>
    </div>
    <div nz-col nzXs="24" nzSm="24" nzMd="17" nzLg="17">
      <div class="mt16 flex-card p-lr16" *ngIf="levelNode==1">
        <div class="header header-green-background mg-t-16">
          <div class="header-text">
            <div class="title-chi-tieu">
              <span>TỔNG CỤC DỮ TRỮ NHÀ NƯỚC</span>
            </div>
          </div>
        </div>
      </div>
      <nz-tabset nzType="card" class="tab__container mt-16" *ngIf="levelNode != 1">
        <nz-tab [nzTitle]="'Thông tin kho tàng'" class="bb-lay-mau__container">
          <nz-card>
            <div class="group-button">
              <h2 *ngIf="levelNode == 2 ">Thông tin Cục </h2>
              <h2 *ngIf="levelNode == 3">Thông tin Chi Cục </h2>
              <h2 *ngIf="levelNode == 4">Thông tin điểm kho </h2>
              <h2 *ngIf="levelNode == 5">Thông tin nhà kho </h2>
              <h2 *ngIf="levelNode == 6">Thông tin ngăn kho </h2>
              <h2 *ngIf="levelNode == 7">Thông tin lô kho </h2>
              <div class="buttons" *ngIf="levelNode > 3 ">
                <button nz-button class="btn btn-sub do" (click)="delete()">
                  <i class="fa fa-trash-o do"></i>
                  Xóa
                </button>
                <button nz-button class="btn btn-sub xanh-nhat" (click)="themSoDuDauKy()" *ngIf="checkStatusSurplus()">
                  <i class="icon htvbdh_dau-cong"></i>
                  Khởi tạo số dư đầu kỳ
                </button>
                <button nz-button class="btn btn-sub xanh-nhat" (click)="showEdit(false)" *ngIf="isEditData">
                  <i class="icon htvbdh_bosungfile"></i>
                  Sửa
                </button>
                <button nz-button class="btn btn-sub" (click)="showEdit(true)" *ngIf="!isEditData">
                  <i class="fa fa-times"></i>
                  Hủy bỏ
                </button>
                <button nz-button class="btn btn-sub xanh-nhat" (click)="update()" *ngIf="!isEditData">
                  <i class="fa fa-save"></i>
                  Lưu
                </button>
              </div>
            </div>
            <form nz-form [formGroup]="detailDonVi" [nzLayout]="'vertical'">
              <nz-card class="mt16 flex-card p-lr16" *ngIf="levelNode == 2">
                <div nz-row [nzGutter]="24">
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Mã cục</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input formControlName="maCuc" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tên cục</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input formControlName="tenCuc" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Địa điểm</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input formControlName="diaChi" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Số lượng chi cục</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input nz-input formControlName="soChiCuc" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Số lượng điểm kho</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input nz-input formControlName="soDiemKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Số lượng nhà kho</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input nz-input formControlName="soNhaKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Số lượng ngăn kho</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input nz-input formControlName="soNganKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Số lượng lô kho</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input nz-input formControlName="soLoKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - LT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="tichLuongTkLt"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - VT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="tichLuongTkVt"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã sử dụng - LT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input formControlName="tichLuongSdLt" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã sử dụng - VT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - LT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - VT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdVt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="18">
                    <nz-form-item>
                      <nz-form-label>Mô tả</nz-form-label>
                      <nz-form-control>
                        <textarea formControlName="ghiChu" [readOnly]="isEditData" rows="3" class="search__input"
                                  nz-input
                                  placeholder="Nhập text"></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Trạng thái</nz-form-label>
                      <nz-form-item>
                        <label [nzDisabled]="true" nz-checkbox formControlName="trangThai">Hoạt động/Không hoạt
                          động</label>
                      </nz-form-item>
                    </nz-form-item>
                  </div>
                </div>
              </nz-card>
              <nz-card class="mt16 flex-card p-lr16" *ngIf="levelNode == 3">
                <div nz-row [nzGutter]="24">
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Mã chi cục</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="maChiCuc" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tên chi cục</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="tenChiCuc" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Địa điểm chi cục</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="diaChi" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Số lượng điểm kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soDiemKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Số lượng nhà kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soNhaKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Số lượng ngăn kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soNganKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Số lượng lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soLoKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongTkLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongTkVt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã sử dụng - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã sử dụng - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdVt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdVt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="18">
                    <nz-form-item>
                      <nz-form-label>Mô tả</nz-form-label>
                      <nz-form-control>
                        <textarea formControlName="ghiChu" [readOnly]="isEditData" rows="3" class="search__input"
                                  nz-input
                                  placeholder="Nhập text"></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Trạng thái</nz-form-label>
                      <nz-form-item>
                        <label [nzDisabled]="true" nz-checkbox formControlName="trangThai">Hoạt động/Không hoạt
                          động</label>
                      </nz-form-item>
                    </nz-form-item>
                  </div>
                </div>
              </nz-card>
              <nz-card class="mt16 flex-card p-lr16" *ngIf="levelNode == 4">
                <div nz-row [nzGutter]="24">
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Mã điểm kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="maDiemkho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tên điểm kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="tenDiemkho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Địa chỉ</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formConrtrolName="diaChi" nz-input [readonly]="isEditData"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thuộc chi cục</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenChiCuc" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng diện tích (m2)</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="dienTichDat" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Số lượng nhà kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soNhaKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Số lượng ngăn kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soNganKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Số lượng lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soLoKho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongTkLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongTkVt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã sử dụng - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã sử dụng - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdVt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdVt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="18">
                    <nz-form-item>
                      <nz-form-label>Mô tả</nz-form-label>
                      <nz-form-control>
                        <textarea formControlName="ghiChu" [readOnly]="isEditData" rows="3" class="search__input"
                                  nz-input
                                  placeholder="Nhập text"></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Trạng thái</nz-form-label>
                      <nz-form-item>
                        <label [nzDisabled]="true" nz-checkbox formControlName="trangThai">Hoạt động/Không hoạt
                          động</label>
                      </nz-form-item>
                    </nz-form-item>
                  </div>
                </div>
              </nz-card>
              <nz-card class="mt16 flex-card p-lr16" *ngIf="levelNode == 5">
                <div nz-row [nzGutter]="24">
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Mã nhà kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="maNhakho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="5">
                    <nz-form-item>
                      <nz-form-label>Tên nhà kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="tenNhakho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-label>Thời điểm sử dụng</nz-form-label>
                    <nz-form-control [nzErrorTip]="error">
                      <nz-input-group>
                        <nz-date-picker formControlName="namSudung" [nzDisabled]="isEditData"
                                        nzFormat="dd/MM/yyyy"></nz-date-picker>
                      </nz-input-group>
                    </nz-form-control>
                  </div>
                  <div nz-col [nzSpan]="12">
                    <div nz-row [nzGutter]="24">
                      <div nz-col nzSpan="7">
                        <nz-form-item>
                          <nz-form-label>Loại kho</nz-form-label>
                          <nz-form-control [nzErrorTip]="error">
                            <nz-input-group>
                              <nz-select formControlName="loaikhoId" [nzDisabled]="isEditData">
                                <nz-option *ngFor="let item of listLoaiKho" [nzValue]="item.ma" [nzLabel]="item.giaTri">
                                </nz-option>
                              </nz-select>
                            </nz-input-group>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzSpan="1" class="text-center">
                        <nz-form-label></nz-form-label>
                        <i class="icon htvbdh_tcdt_lien-ket icon-lien-ket ng-tns-c190-48"></i>
                      </div>
                      <div nz-col nzSpan="7">
                        <nz-form-item>
                          <nz-form-label>Số ngăn kho</nz-form-label>
                          <nz-form-control [nzErrorTip]="error">
                            <nz-input-group>
                              <input formControlName="soNganKho" [readonly]="true" nz-input/>
                            </nz-input-group>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col nzSpan="1" class="text-center">
                        <nz-form-label></nz-form-label>
                        <i class="icon htvbdh_tcdt_lien-ket icon-lien-ket ng-tns-c190-48"></i>
                      </div>
                      <div nz-col nzSpan="7">
                        <nz-form-item>
                          <nz-form-label> Diện tích (m2)</nz-form-label>
                          <nz-form-control [nzErrorTip]="error">
                            <nz-input-group>
                              <input formControlName="dienTichDat" [readonly]="isEditData" nz-input/>
                            </nz-input-group>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                    </div>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thuộc điểm kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenDiemkho" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Chi cục</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenChiCuc" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Địa điểm</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="diaChi" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tình trạng kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-select formControlName="tinhtrangId" [nzDisabled]="isEditData">
                          <nz-option *ngFor="let item of listTinhTrang" [nzValue]="item.ma" [nzLabel]="item.giaTri">
                          </nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Chất lượng</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <nz-select formControlName="chatluongId" [nzDisabled]="isEditData">
                            <nz-option></nz-option>
                          </nz-select>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Diện tích</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="dienTichDat" [readonly]="isEditData" nz-input/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongTkLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi" p>
                          <input nz-input formControlName="tichLuongTkVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã SD - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã SD - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Số lượng ngăn kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soNganKho" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Số lượng lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="soLoKho" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Tên thủ kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenThuKho" [readOnly]="isEditData"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6"></div>
                  <div nz-col [nzSpan]="24">
                    <nz-form-item>
                      <nz-form-label>Nhiệm vụ</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <textarea formControlName="nhiemVu" [readonly]="isEditData" rows="3" class="search__input"
                                  nz-input placeholder="Nhập text"></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="24">
                    <nz-form-item>
                      <nz-form-label>Sơ đồ nhà kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <file-list [data]="fileDinhKems" [disabled]="isEditData"></file-list>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                </div>
              </nz-card>
              <nz-card class="mt16 flex-card p-lr16" *ngIf="levelNode == 6">
                <div nz-row [nzGutter]="24">
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Mã ngăn kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="maNgankho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Tên ngăn kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="tenNgankho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Loại kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-select formControlName="loaikhoId" [nzDisabled]="isEditData">
                          <nz-option *ngFor="let item of listLoaiKho" [nzValue]="item.ma" [nzLabel]="item.giaTri">
                          </nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Diện tích (m2)</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="dienTichDat" nz-input [readonly]="isEditData"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Số lượng lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="soLoKho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Thuộc nhà kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="tenNhakho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Thuộc điểm kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="tenDiemkho" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Thuộc chi cục</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenChiCuc" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="18">
                    <nz-form-item>
                      <nz-form-label>Địa điểm</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="diaChi" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label>Tình trạng ngăn kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-select formControlName="tinhtrangId" [nzDisabled]="isEditData">
                          <nz-option *ngFor="let item of listTinhTrang" [nzValue]="item.ma" [nzLabel]="item.giaTri">
                          </nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3">
                    <nz-form-item>
                      <nz-form-label></nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <label nz-checkbox formControlName="coLoKho" [nzDisabled]="true"
                                 (ngModelChange)="changeLoKho()">Có lô kho</label>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongTkLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng thiết kế - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi" p>
                          <input nz-input formControlName="tichLuongTkVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã SD - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng đã SD - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongSdVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - LT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng tích lượng khả dụng - VT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <input nz-input formControlName="tichLuongKdVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng thể tích thiết kế - LT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input [readonly]="!isEditData" nz-input formControlName="theTichTkLt"
                                 [readOnly]="isEditData"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng thể tích thiết kế - VT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichTkVt" [readOnly]="isEditData"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng thế tích đã sử dụng - LT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichSdLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng thế tích đã sử dụng - VT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichSdVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng thế tích khả dụng - LT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichKdLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tổng thế tích khả dụng - VT</nz-form-label>
                      <nz-form-control>
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichKdVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thời điểm nhập kho (năm)</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input formControlName="namNhap" nz-input [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="20">

                  </div>
                  <div nz-col [nzSpan]="6" *ngIf="!checkLoKho">
                    <nz-form-item>
                      <nz-form-label>Loại hàng hóa</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <nz-select formControlName="loaiVthh" [nzDisabled]="isEditData"
                                     (ngModelChange)="onChangeLoaiVthh($event)">
                            <nz-option *ngFor="let item of listVthh" [nzLabel]="item.giaTri"
                                       [nzValue]="item.ma"></nz-option>
                          </nz-select>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6" *ngIf="!checkLoKho">
                    <nz-form-item>
                      <nz-form-label>Chủng loại hàng hóa</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <nz-select [nzDisabled]="isEditData" formControlName="cloaiVthh"
                                     (ngModelChange)="onChangCloaiVthh($event)">
                            <nz-option *ngFor="let item of listCloaiVthh" [nzLabel]="item.ten"
                                       [nzValue]="item.ma"></nz-option>
                          </nz-select>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6" *ngIf="!checkLoKho">
                    <nz-form-item>
                      <nz-form-label>Số lượng tồn đầu kỳ</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input nz-input formControlName="slTon" [readOnly]="isEditData"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3" *ngIf="!checkLoKho">
                    <nz-form-item>
                      <nz-form-label>Đơn vị tính</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <input nz-input formControlName="dviTinh" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="3" *ngIf="!checkLoKho">
                    <nz-form-item>
                      <nz-form-label>Ngày nhập đầy</nz-form-label>
                      <nz-form-control>
                        <nz-input-group>
                          <nz-date-picker formControlName="ngayNhapDay" [nzDisabled]="isEditData" nzFormat="dd/MM/yyyy"
                                          [nzDisabled]="true"></nz-date-picker>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="12">
                    <nz-form-item>
                      <nz-form-label>Nhiệm vụ</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <textarea formControlName="nhiemVu" [readonly]="isEditData" rows="3" class="search__input"
                                  nz-input placeholder="Nhập text"></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="12">
                    <nz-form-item>
                      <nz-form-label>Ghi chú</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <textarea formControlName="ghiChu" [readonly]="isEditData" rows="3" class="search__input"
                                  nz-input placeholder="Nhập text"></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="24">
                    <nz-form-item>
                      <nz-form-label>Chọn file bản đồ (sờ đồ) ngăn, lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <file-list [data]="fileDinhKems" [disabled]="isEditData"></file-list>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                </div>
              </nz-card>
              <nz-card class="mt16 flex-card p-lr16" *ngIf="levelNode == 7">
                <div nz-row [nzGutter]="24">
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Mã lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="maNganlo" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tên lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="tenNganlo" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thời điểm sử dụng</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <nz-date-picker formControlName="namSudung" nzDisabled="true"
                                          nzFormat="dd/MM/yyyy"></nz-date-picker>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Loại kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-select formControlName="loaikhoId" [nzDisabled]="isEditData">
                          <nz-option *ngFor="let item of listLoaiKho" [nzValue]="item.ma" [nzLabel]="item.giaTri">
                          </nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Địa điểm</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="diaChi" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thuộc ngăn kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenNgankho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thuộc nhà kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenNhakho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thuộc điểm kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenDiemkho" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thuộc chi cục</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input nz-input formControlName="tenChiCuc" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Diện tích sử dụng (m2)</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="dienTichDat"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tích lượng thiết kế - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="tichLuongTkLt"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tích lượng thiết kế - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="tichLuongTkVt"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tích lượng đã SD - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="tichLuongSdLt"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tích lượng đã SD - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="tichLuongSdVt"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tích lượng khả dụng - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="tichLuongKdLt"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Tích lượng khả dụng - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="dvi">
                          <nz-input-number [nzDisabled]="isEditData" [nzSize]="'small'"
                                           [nzFormatter]="globals.formatter" [nzParser]="globals.parser"
                                           formControlName="tichLuongKdVt"></nz-input-number>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thời điểm nhập kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <nz-date-picker [nzDisabled]="isEditData" formControlName="namSudung"
                                          nzFormat="dd/MM/yyyy"></nz-date-picker>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thể tích thiết kế - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichTkLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thể tích thiết kế - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichTkVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thể tích đã sử dụng - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichSdLt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thể tích đã sử dụng - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichSdVt" [readOnly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thể tích khả dụng - LT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichKdLt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Thể tích khả dụng - VT</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group [nzAddOnAfter]="theTich">
                          <input nz-input formControlName="theTichKdVt" [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Loại hàng hóa</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <nz-select formControlName="loaiVthh" [nzDisabled]="isEditData"
                                     (ngModelChange)="onChangeLoaiVthh($event)">
                            <nz-option *ngFor="let item of listVthh" [nzLabel]="item.giaTri"
                                       [nzValue]="item.ma"></nz-option>
                          </nz-select>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Chủng loại hàng hóa</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <nz-select [nzDisabled]="isEditData" formControlName="cloaiVthh"
                                     (ngModelChange)="onChangCloaiVthh($event)">
                            <nz-option *ngFor="let item of listCloaiVthh" [nzLabel]="item.ten"
                                       [nzValue]="item.ma"></nz-option>
                          </nz-select>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Số lượng</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="slTon" nz-input [readonly]="isEditData"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="4">
                    <nz-form-item>
                      <nz-form-label>Đơn vị tính</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <input formControlName="dviTinh" nz-input [readonly]="true"/>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label> Tình trạng lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-select formControlName="tinhtrangId" [nzDisabled]="isEditData">
                          <nz-option *ngFor="let item of listTinhTrang" [nzValue]="item.ma" [nzLabel]="item.giaTri">
                          </nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="6">
                    <nz-form-item>
                      <nz-form-label>Ngày nhập đầy</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <nz-date-picker formControlName="ngayNhapDay" [nzDisabled]="true"
                                          nzFormat="dd/MM/yyyy"></nz-date-picker>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="12">
                    <nz-form-item>
                      <nz-form-label>Nhiệm vụ</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <textarea formControlName="nhiemVu" [readOnly]="isEditData" rows="3" class="search__input"
                                  nz-input placeholder="Nhập text"></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="12">
                    <nz-form-item>
                      <nz-form-label>Ghi chú</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <textarea formControlName="ghiChu" [readOnly]="isEditData" rows="3" class="search__input"
                                  nz-input placeholder="Nhập text"></textarea>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                  <div nz-col [nzSpan]="24">
                    <nz-form-item>
                      <nz-form-label>Chọn file bản đồ (sờ đồ) ngăn, lô kho</nz-form-label>
                      <nz-form-control [nzErrorTip]="error">
                        <nz-input-group>
                          <file-list [data]="fileDinhKems" [disabled]="isEditData"></file-list>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                </div>
              </nz-card>

              <ng-template #error let-control>
                <app-template-error #error [control]="control"></app-template-error>
              </ng-template>
            </form>
            <ng-container *ngIf="levelNode == 2 || levelNode == 3 || levelNode == 4 || levelNode == 5">
              <div class="group-button">
                <h2 *ngIf="levelNode == 2">Danh sách Chi Cục</h2>
                <h2 *ngIf="levelNode == 3">Danh sách điểm kho</h2>
                <h2 *ngIf="levelNode == 4">Danh sách nhà kho</h2>
                <h2 *ngIf="levelNode == 5">Danh sách ngăn kho</h2>
              </div>
              <nz-table class="pd-10" [nzData]="dataTable" nzBordered [nzFrontPagination]="false"
                        [nzShowPagination]="false">
                <thead>
                <tr>
                  <th rowspan="2">STT</th>
                  <th rowspan="2" *ngIf="levelNode == 2">Tên chi cục</th>
                  <th rowspan="2" *ngIf="levelNode == 3">Tên điểm kho</th>
                  <th rowspan="2" *ngIf="levelNode == 4">Tên nhà kho</th>
                  <th rowspan="2" *ngIf="levelNode == 5">Tên ngăn kho</th>
                  <th colspan="3">Tổng tích lượng thiết kế (tấn kho)</th>
                  <th colspan="3">Tổng tích lượng đã sử dụng (tấn kho)</th>
                  <th colspan="3">Tổng tích lượng khả dụng (tấn kho)</th>
                </tr>
                <tr>
                  <th colspan="1">Tổng cộng</th>
                  <th colspan="1">Lương thực</th>
                  <th colspan="1">Vật tư</th>
                  <th colspan="1">Tổng cộng</th>
                  <th colspan="1">Lương thực</th>
                  <th colspan="1">Vật tư</th>
                  <th colspan="1">Tổng cộng</th>
                  <th colspan="1">Lương thực</th>
                  <th colspan="1">Vật tư</th>
                <tr>
                </thead>
                <tbody>
                <tr *ngFor="let data of dataTable; let idx = index">
                  <td class="text-center">{{ idx + 1 }}</td>
                  <td>{{ data.tenDvi }}</td>
                  <td>{{ data.tichLuongTkLt + data.tichLuongTkVt | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ data.tichLuongTkLt | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ data.tichLuongTkVt | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ data.tichLuongTkLt + data.tichLuongTkVt | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ data.tichLuongTkLt | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ data.tichLuongTkVt | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ data.tichLuongKdLt + data.tichLuongKdVt | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ data.tichLuongKdLt | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ data.tichLuongKdVt | number : '1.0-1' : 'vi_VN' }}</td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                  <td></td>
                  <td>Tổng</td>
                  <td>{{ calcTong('tichLuongTkLt') + calcTong('tichLuongTkVt')| number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ calcTong('tichLuongTkLt') | number : '1.0-1' :'vi_VN' }}</td>
                  <td>{{ calcTong('tichLuongTkVt') | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ calcTong('tichLuongTkLt') + calcTong('tichLuongTkVt')| number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ calcTong('tichLuongTkLt') | number : '1.0-1' :'vi_VN' }}</td>
                  <td>{{ calcTong('tichLuongTkVt') | number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ calcTong('tichLuongKdLt') + calcTong('tichLuongKdVt')| number : '1.0-1' : 'vi_VN' }}</td>
                  <td>{{ calcTong('tichLuongKdLt') | number : '1.0-1' :'vi_VN' }}</td>
                  <td>{{ calcTong('tichLuongKdVt') | number : '1.0-1' : 'vi_VN' }}</td>
                </tr>
                </tfoot>
              </nz-table>
              <div class="group-button">
                <h2>Thông tin chung hàng hóa</h2>
              </div>
              <nz-table class="pd-10" nzBordered [nzFrontPagination]="false" [nzShowPagination]="false">
                <thead>
                <tr>
                  <th>STT</th>
                  <th>Tên hàng hóa</th>
                  <th>Số lượng</th>
                  <th>ĐVT</th>
                </tr>
                </thead>
                <tbody>

                </tbody>
              </nz-table>
              <div class="group-button">
                <h2>Thông tin chi tiết hàng hóa</h2>
              </div>
              <nz-table class="pd-10" nzBordered [nzFrontPagination]="false" [nzShowPagination]="false">
                <thead>
                <tr>
                  <th></th>
                  <th>Tên hàng hóa</th>
                  <th>Số lượng</th>
                  <th>ĐVT</th>
                </tr>
                </thead>
                <tbody>

                </tbody>
              </nz-table>
            </ng-container>
          </nz-card>
        </nz-tab>
        <nz-tab [nzTitle]="'Thông tin quy hoạch'" class="bb-lay-mau__container">
          <nz-card>
            abc
          </nz-card>
        </nz-tab>
        <nz-tab [nzTitle]="'Thông tin đầu tư cải tạo'" class="bb-lay-mau__container">
          <nz-card>
            bcd
          </nz-card>
        </nz-tab>
      </nz-tabset>
      <nz-card *ngIf="levelNode == 1">
        <form nz-form [formGroup]="detailDonVi" [nzLayout]="'vertical'">
        <div nz-row [nzGutter]="24">
            <div nz-col [nzSpan]="8">
              <nz-form-item>
                <nz-form-label>Số đơn vị DTNN KV</nz-form-label>
                <nz-form-label>Số chi cục</nz-form-label>
                <nz-form-label>Số điểm kho</nz-form-label>
                <nz-form-label>Số nhà kho</nz-form-label>
                <nz-form-label>Số ngăn kho</nz-form-label>
                <nz-form-label>Tổng tích lượng thiết kế (tấn kho)</nz-form-label>
                <nz-form-label>Tổng tích lượng đã sử dụng (tấn kho)</nz-form-label>
                <nz-form-label>Tổng tích lượng khả dụng</nz-form-label>
                <nz-form-label>Địa chỉ</nz-form-label>
                <nz-form-label>Điện thoại</nz-form-label>
              </nz-form-item>
            </div>
              <div nz-col [nzSpan]="16">
                <nz-form-item>
                  <nz-form-label>{{detailTcdtnn.soCuc}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.soChiCuc}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.soDiemKho}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.soNhaKho}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.soNganKho}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.tichLuongTk}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.tichLuongSd}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.tichLuongKd}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.diaChi}}</nz-form-label>
                  <nz-form-label>{{detailTcdtnn.sdt}}</nz-form-label>
                </nz-form-item>
              </div>
            </div>
        </form>
      </nz-card>
    </div>
  </div>
</div>
