<div class="bg-trang">
  <div class="header header-green-background">
    <div class="header-text">
      <div class="title-chi-tieu">
        <span
          [ngClass]="formData.value.trangThaiHd == STATUS.DA_HOAN_THANH  ? 'da-ban-hanh' : 'du-thao-va-lanh-dao-duyet'">
          {{ formData.value.tenTrangThaiHd }}
        </span>
        <span class="text-uppercase">Quản lý hợp đồng/ phụ lục hợp đồng</span>
      </div>
    </div>
    <div class="btn-group">
      <button type="button" class="btn btn-sm ml-2" (click)="goBack()">
        <i class="fa fa-arrow-left"></i>
        <span>Quay lại</span>
      </button>
      <button class="btn btn-sub xanh-nhat ml-2" (click)="save(true)"
              *ngIf="(formData.value.trangThai == STATUS.DU_THAO) ">
        <i class="icon htvbdh_tcdt_pheduyet"></i>
        <span>Hoàn thành</span>
      </button>
      <button (click)="save()"
              *ngIf="(formData.value.trangThai == STATUS.DU_THAO)  "
              class="btn btn-main btn-sm waves-effect waves-light ml-2">
        <i class="icon htvbdh_tcdt_save"></i>
        <span>Lưu</span>
      </button>
    </div>
  </div>

  <nz-card class="mt16 flex-card p-lr16 mg-t-10">
    <div class="header header-green-background mg-t-10">
      <div class="header-text">
        <div class="title-chi-tieu">
          <span class="text-uppercase font-weight-bold">Thông tin chung</span>
        </div>
      </div>
    </div>
    <form nz-form nzLayout="horizontal" [formGroup]="formData">
      <div nz-row [nzGutter]="[24]">
        <div nz-col nzSpan="12">
          <div nz-row [nzGutter]="[24]" class="label-50 mg-t-10 border-right">
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Số QĐ phê duyệt KH LCNT</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="soQd" readonly/>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Số QĐ phê duyệt KQ LCNT</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="soQdPdKqlcnt" readonly/>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Tên dự án</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="tenDuAn" readonly/>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Chủ đầu tư</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="chuDauTu" readonly/>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
              </nz-form-item>
            </div>
          </div>
        </div>
        <div nz-col nzSpan="12">
          <div nz-row [nzGutter]="[24]" class="label-50 mg-t-10 border-right">
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Tổng mức đầu tư</nz-form-label>
                <nz-form-control>
                  <nz-input-group>
                    <span class="text-blue">{{tongMucDt | number}}</span>
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Tổng số gói thầu</nz-form-label>
                <nz-form-control>
                  <nz-input-group>
                    <input nz-input formControlName="soGoiThau" readonly/>
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Số gói thầu đã trúng</nz-form-label>
                <nz-form-control>
                  <nz-input-group>
                    <input nz-input formControlName="soGoiThauTc" readonly/>
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Số gói thầu đã trượt</nz-form-label>
                <nz-form-control>
                  <nz-input-group>
                    <input nz-input formControlName="soGoiThauTb" readonly/>
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label [nzNoColon]="true"> Tổng số hợp đồng đã ký</nz-form-label>
                <nz-form-control>
                  <nz-input-group>
                    <input nz-input formControlName="soHopDongDaKy" readonly/>
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </div>
      </div>
    </form>
  </nz-card>
  <nz-card class="mt16 flex-card p-lr16 mg-t-10">
    <div class="header header-green-background mg-t-10">
      <div class="header-text">
        <div class="title-chi-tieu">
          <span class="text-uppercase font-weight-bold">Danh sách hợp đồng cần ký với các gói thầu đã trúng</span>
        </div>
      </div>
      <div class="btn-group">
        <div class="buttons">
          <button type="button" class="btn btn-main" (click)="themMoiHopDong()">
            <i class="icon htvbdh_dau-cong"></i>
            <span>Thêm</span>
          </button>
        </div>
      </div>
    </div>
    <nz-table #basicTable [nzData]="dataTable" [nzFrontPagination]="false"
              [nzShowPagination]="false" nzBordered>
      <thead>
      <tr>
        <th width="40px" class="text-center">STT</th>
        <th width="150px">Số hợp đồng</th>
        <th width="130px">Tên hợp đồng</th>
        <th width="130px">Ngày ký hợp đồng</th>
        <th>Gói thầu</th>
        <th width="200px">Tên dự án</th>
        <th width="130px">Giá trị hợp đồng</th>
        <th width="130px">Trạng thái HĐ</th>
        <th width="100px" class="text-center">Hành động</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let data of listHopDong; let i = index">
        <td>{{ i + 1}}</td>
        <td>{{ data.soHd }}</td>
        <td>{{ data.tenHd }}</td>
        <td>{{ data.ngayHieuLuc | date: 'dd/MM/YYYY' }}</td>
        <td>{{ data.tenGoiThau }}</td>
        <td>{{ data.tenDuAn }}</td>
        <td>{{ data.thanhTien | number }}</td>
        <td class="text-left">{{ data.tenTrangThai }}</td>
        <td class="text-center">
          <a
            *ngIf="(data.trangThai == STATUS.DU_THAO )">
            <i class="fa fa-pencil"></i>
          </a>
          <a *ngIf="data.trangThai == STATUS.DU_THAO " (click)="delete(data)">
            <i class="fa fa-trash-o do"></i>
          </a>
        </td>
      </tr>
      </tbody>
    </nz-table>
  </nz-card>
</div>
<!--<ng-template >-->
<!--  <app-thong-tin-hop-dong [id]="selectedId" (showListEvent)="showList()"-->
<!--                          [isViewDetail]="isViewDetail"-->
<!--                          [idInput]="selectedId" [flagThemMoi]="flagInfo"></app-thong-tin-hop-dong>-->
<!--</ng-template>-->
