<div class="bg-trang">
  <div class="cangiua group-button-search">
    <button class="btn btn-sub xanh-nhat ml-2">
      <i class="icon htvbdh_tcdt_pheduyet"></i>
      <span>Hoàn thành</span>
    </button>
    <button class="btn btn-main btn-sm waves-effect waves-light ml-2">
      <i class="icon htvbdh_tcdt_save"></i>
      <span>Lưu</span>
    </button>
  </div>
  <nz-card class="mt16 flex-card p-lr16 mg-t-10">
    <nz-table #basicTable [nzData]="listHopDong" [nzFrontPagination]="false"
              [nzShowPagination]="false" nzBordered class="mt-2">
      <thead>
      <tr>
        <th width="40px" class="text-center">STT</th>
        <th>Số hợp đồng</th>
        <th width="200px">Tên hợp đồng</th>
        <th>Gói thầu</th>
        <th>Chủ đầu tư</th>
        <th>Nhà thầu</th>
        <th width="130px">Ngày ký hợp đồng</th>
        <th width="130px">Giá trị hợp đồng</th>
        <th width="130px">Trạng thái HĐ</th>
        <th width="100px" class="text-center">Tiến độ thực hiện</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let data of listHopDong; let i = index"
          style="cursor: pointer" [ngClass]="{'bg-selected': data.selected}"
          (click)="selectRow(data)">
        <td>{{ i + 1}}</td>
        <td>{{ data.hopDong?.soHd }}</td>
        <td>{{ data.hopDong?.tenHd }}</td>
        <td>{{ data.noiDung }}</td>
        <td>{{ data.chuDauTu }}</td>
        <td>{{ data.nhaThauTrung }}</td>
        <td>{{ data.hopDong?.ngayHieuLuc | date: 'dd/MM/YYYY' }}</td>
        <td>{{ data.hopDong?.thanhTien | number: '1.0-1' }}</td>
        <td class="text-left">{{  data.hopDong?.tenTrangThai  }}</td>
        <td class="text-left">{{  data.hopDong?.tenTrangThai  }}</td>
      </tr>
      </tbody>
    </nz-table>
  </nz-card>
  <nz-card class="mt16 flex-card p-lr16 mg-t-10">
    <div class="header header-green-background">
      <div class="header-text">
        <div class="title-chi-tieu">
      <span
        [ngClass]="formData.value.trangThai == STATUS.DA_DUYET_LDC || formData.value.trangThai == STATUS.DA_DUYET_CBV   ? 'da-ban-hanh' : 'du-thao-va-lanh-dao-duyet'">
        {{ formData.value.tenTrangThai }}
      </span>
          <span>TIẾN ĐỘ CÔNG VIỆC</span>
        </div>
      </div>
    </div>
    <form [nzLayout]="'vertical'" [formGroup]="formData" nz-form>
      <div nz-row [nzGutter]="24">
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label [nzNoColon]="true"> Số QĐ PD dự án ĐTXD</nz-form-label>
            <span class="text-blue">01/QĐ-TCDT</span>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label [nzNoColon]="true"> Số QĐ PD bản vẽ TKTC và tổng dự toán</nz-form-label>
            <span class="text-blue">01/QĐ-TCDT</span>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label [nzNoColon]="true">Số QĐ phê duyệt KH LCNT</nz-form-label>
            <span class="text-blue">01/QĐ-TCDT</span>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label [nzNoColon]="true"> Số QĐ phê duyệt KQ LCNT</nz-form-label>
            <span class="text-blue">01/QĐ-TCDT</span>
          </nz-form-item>
        </div>
      </div>
    </form>
  </nz-card>
  <div class="group-button">
    <h3> TIẾN ĐỘ VÀ KHỐI LƯỢNG CÔNG VIỆC THEO HỢP ĐỒNG</h3>
    <div class="buttons">
      <button type="button" class="btn btn-sub">
        <i class="icon htvbdh_chuyen-xu-ly"></i>
        <span>Xuất file</span>
      </button>
    </div>
  </div>
  <nz-table nzBordered class="pd-10"
            [nzFrontPagination]="false" [nzShowPagination]="false"
            [nzScroll]="dataTable && dataTable.length > 0 ? { x: '3000px' } : null">
    <thead>
    <tr>
      <th nzWidth="40px" rowSpan="3" class="text-center">STT</th>
      <th class="text-center" rowSpan="3">Quý</th>
      <th class="text-center" rowSpan="3" nzWidth="250px">Tên công tác/hạng mục công việc</th>
      <th class="text-center" rowSpan="3" nzWidth="100px">ĐVT</th>
      <th class="text-center" colSpan="5">Khối lượng</th>
      <th class="text-center" colSpan="2">Đơn giá thanh toán</th>
      <th class="text-center" colSpan="5">Thành tiền</th>
      <th class="text-center" rowSpan="3">Ghi chú</th>
      <th class="text-center" rowSpan="3" nzWidth="100px" nzRight>Hành động</th>
    </tr>
    <tr>
      <th class="text-center" colSpan="2">Tổng số</th>
      <th class="text-center" colSpan="3">Thực hiện</th>
      <th class="text-center" rowSpan="2">Theo hợp đồng</th>
      <th class="text-center" rowSpan="2">Đơn giá bổ sung</th>
      <th class="text-center" colSpan="2">Tổng số</th>
      <th class="text-center" colSpan="3">Thực hiện</th>
    </tr>
    <tr>
      <th class="text-center">KL theo HĐ <br> ban đầu</th>
      <th class="text-center">KL phát sinh so <br> với HĐ ban đầu</th>
      <th class="text-center">Lũy kế đến hết kì trước</th>
      <th class="text-center">Thực hiện <br> kỳ này</th>
      <th class="text-center">Lũy kế đến <br> hết kỳ này</th>
      <th class="text-center">Theo HĐ ban đầu</th>
      <th class="text-center">Phát sinh so <br> với HĐ ban đầu</th>
      <th class="text-center">Lũy kế đến <br> hết kỳ trước</th>
      <th class="text-center">Thực hiện <br> kỳ này</th>
      <th class="text-center">Lũy kế đến <br> hết kỳ này</th>
    </tr>
    </thead>
    <tbody>
    <td></td>
    <td>
      <nz-select formControlName="nam">
        <nz-option *ngFor="let p of listNam" [nzValue]="p.value" [nzLabel]="p.text"></nz-option>
      </nz-select>
    </td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td class="text-center" nzRight>
      <a>
        <i class="table-icon icon htvbdh_dau-cong"></i>
      </a>
      <a>
        <i class="table-icon fa fa-trash-o do"></i>
      </a>
    </td>
    <tr></tr>
    </tbody>
  </nz-table>
</div>
