
<nz-affix class="menu-lv3" [nzOffsetTop]="43">
     <div class="tab-content tab-menu" id="myTabContent">
          <div class="tab-pane fade show active justify-content-between" id="banhanh" role="tabpanel"
               aria-labelledby="banhanh-tab">
               <div class="trai">
               </div>
               <div class="canphai phai action-top">

                    <button nz-button class="search__button--search" routerLink="../">
                         <i nz-icon nzType="stop"></i>
                         Đóng
                    </button>
                    <button nz-button type="submit" class="search__button--search"
                         (click)="pages.page = 1; pages.size = 10 ;getDetailReport()">
                         <i nz-icon nzType="search"></i>
                         Tìm kiếm
                    </button>
                    <button nz-button class="search__button--clear" (click)="xoaDieuKien()">
                         <i nz-icon nzType="close"></i>
                         Xóa điều kiện
                    </button>
               </div>
          </div>
     </div>
</nz-affix>
<div class="contentBor chi-tieu__body">
     <div class="contentDetail">
          <div class="main-content">

               <nz-card nzTitle="Tìm kiếm" class="mt16 flex-card p-lr16">
                    <form nz-form [formGroup]="validateForm">
                         <div class="search__body" nz-row [nzGutter]="[18, 12]">
                              <div nz-col nzSpan="12">
                                   <label class="search__label">Năm hiện tại (N)</label>
                                   <nz-form-item>
                                        <nz-form-control [nzErrorTip]="messageValidate.YEAR">
                                             <input nz-input [(ngModel)]="searchFilter.nam"
                                                  formControlName="namhientai" />
                                        </nz-form-control>
                                   </nz-form-item>
                              </div>
                              <div nz-col nzSpan="6">
                                   <label class="search__label">Ngày lập từ</label>
                                   <nz-date-picker formControlName="temp" class="search__input"
                                        [(ngModel)]="searchFilter.tuNgay" nzFormat="dd/MM/yyyy"></nz-date-picker>
                              </div>
                              <div nz-col nzSpan="6">
                                   <label class="search__label">Đến ngày</label>
                                   <nz-date-picker formControlName="temp" class="search__input"
                                        [(ngModel)]="searchFilter.denNgay" nzFormat="dd/MM/yyyy"></nz-date-picker>
                              </div>
                              <div nz-col nzSpan="12">
                                   <label class="search__label">Đơn vị tạo</label>
                                   <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Chọn đơn vị tạo"
                                        [(ngModel)]="searchFilter.maDvi" formControlName="dviTemp" nzDisabled>
                                        <nz-option *ngFor="let item of donVis" [nzValue]="item.maDvi"
                                             [nzLabel]="item.tenDvi"></nz-option>
                                   </nz-select>
                              </div>
                         </div>
                    </form>
               </nz-card>
               <nz-card nzTitle="DANH SÁCH ĐỀ XUẤT ĐIỀU CHỈNH DỰ TOÁN CHI NGÂN SÁCH" [nzExtra]="tableCard1"
                    class="mt16 flex-card p-lr16">
                    <div class="search__body" nz-row [nzGutter]="[18, 12]">
                         Tổng số bản ghi được tìm thấy: {{totalElements}}
                    </div>
                    <nz-table #basicTable class="nowrap">
                         <thead>
                              <tr>
                                   <th nzWidth="50px">STT</th>
                                   <th nzWidth="200px">Ngày lập</th>
                                   <th nzWidth="300px">Đơn vị lập</th>
                                   <th nzWidth="100px">Năm</th>
                                   <th nzWidth="300px" [hidden]="status">Nội dung</th>
                                   <th nzWidth="200px">Trạng thái</th>
                                   <th nzWidth="100px" [hidden]="!statusBtnSave"></th>
                                   <th nzWidth="100px" [hidden]="statusBtnSave"></th>
                                   <th nzWidth="100px" [hidden]="statusBtnDel"></th>
                              </tr>
                         </thead>
                         <tbody>
                              <tr *ngFor="let data of lstCTietBCao; let i = index">
                                   <td>
                                        <label nz-checkbox [nzValue]="data.id"
                                             [(ngModel)]="data.checked"></label>
                                   </td>
                                   <td>
                                        {{data.ngayTao}}
                                   </td>
                                   <td>
                                        <div *ngFor="let item of donVis">
                                             <div *ngIf="item.maDvi == data.maDvi">
                                                  {{item.tenDvi}}
                                             </div>
                                        </div>
                                   </td>
                                   <td>
                                        {{data.namPb}}
                                   </td>
                                   <td [hidden]="status">
                                        {{data.noiDung}}
                                   </td>
                                   <td>
                                        {{getStatusName(data.trangThai)}}
                                   </td>
                                   <td [hidden]="!statusBtnSave">
                                        <a
                                             routerLink="../lap-bao-cao-dieu-chinh-du-toan-chi-nsnn/{{data.id}}">Xem</a>
                                   </td>
                                   <td [hidden]="statusBtnSave">
                                        <a
                                             routerLink="../lap-bao-cao-dieu-chinh-du-toan-chi-nsnn/{{data.id}}">Sửa</a>
                                   </td>
                                   <td [hidden]="statusBtnDel">
                                        <a routerLink="#">Xóa</a>
                                   </td>
                              </tr>
                         </tbody>
                    </nz-table>
                    <div class="tab-content tab-menu" id="myTabContent">
                         <div class="tab-pane fade show active justify-content-between">
                              <div class="trai">

                              </div>
                              <div class="canphai">
                                   <!-- begin phân trang  -->
                                   <nz-pagination class="pagination-card" [nzPageIndex]="pages.page"
                                        [nzTotal]="totalElements" nzShowSizeChanger [nzPageSize]="pages.size"
                                        [nzShowTotal]="rangeTemplate" (nzPageIndexChange)="onPageIndexChange($event)"
                                        (nzPageSizeChange)="onPageSizeChange($event)">
                                        <ng-template #rangeTemplate let-range="range" let-total>
                                             {{ range[0] }}-{{ range[1] }} of {{totalElements}} items
                                        </ng-template>
                                   </nz-pagination>
                                   <!-- end phân trang  -->
                              </div>
                         </div>
                    </div>
               </nz-card>
               <ng-template #tableCard1>
                    <button type="button" class="btn btn-main" (click)="taoMoi()">
                         <i class="icon htvbdh_dau-cong"></i>
                         <span>Tạo mới</span>
                    </button>
                    <button type="button" class="btn btn-sub">
                         <i class="icon htvbdh_chuyen-xu-ly"></i>
                         <span>Export</span>
                    </button>
               </ng-template>
          </div>
     </div>
</div>