<nz-affix class="menu-lv3" [nzOffsetTop]="43">
    <div class="tab-content tab-menu" id="myTabContent">
        <div class="tab-pane fade show active justify-content-between" id="banhanh" role="tabpanel"
            aria-labelledby="banhanh-tab">
            <div class="trai">
            </div>
            <div class="canphai phai action-top">

                <button nz-button class="search__button--search" routerLink="../">
                    <i nz-icon nzType="stop"></i>
                    Đóng
                </button>
                <button nz-button type="submit" class="search__button--search"
                    (click)="pages.page = 1; pages.size = 10 ;getDetailReport()">
                    <i nz-icon nzType="search"></i>
                    Tìm kiếm
                </button>
                <button nz-button class="search__button--clear" (click)="xoaDieuKien()">
                    <i nz-icon nzType="close"></i>
                    Xóa điều kiện
                </button>
            </div>
        </div>
    </div>
</nz-affix>
<div class="contentBor chi-tieu__body">
    <div class="contentDetail">
        <div class="main-content">

            <nz-card nzTitle="Tìm kiếm" class="mt16 flex-card p-lr16">
                <div class="search__body" nz-row [nzGutter]="[18, 12]">
                    <div nz-col nzSpan="6">
                        <label class="search__label">Ngày lập từ</label>
                        <nz-date-picker class="search__input" [(ngModel)]="searchFilter.tuNgay"
                            nzFormat="dd/MM/yyyy"></nz-date-picker>
                    </div>
                    <div nz-col nzSpan="6">
                        <label class="search__label">Đến ngày</label>
                        <nz-date-picker class="search__input" [(ngModel)]="searchFilter.denNgay"
                            nzFormat="dd/MM/yyyy"></nz-date-picker>
                    </div>
                    <div nz-col nzSpan="12">
                        <label class="search__label">Trạng thái</label>
                        <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Chọn trạng thái"
                            [(ngModel)]="searchFilter.trangThai">
                            <nz-option *ngFor="let item of trangThais" [nzValue]="item.id" [nzLabel]="item.tenDm">
                            </nz-option>
                        </nz-select>
                    </div>
                    <div nz-col nzSpan="12">
                        <label class="search__label">Đơn vị tạo</label>
                        <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Chọn đơn vị"
                            [(ngModel)]="searchFilter.maDviTao">
                            <nz-option *ngFor="let item of donVis" [nzValue]="item.maDvi" [nzLabel]="item.tenDvi">
                            </nz-option>
                        </nz-select>
                    </div>
                    <div nz-col nzSpan="12">
                        <label class="search__label">Phân loại</label>
                        <nz-select nzShowSearch nzAllowClear [(ngModel)]="searchFilter.phanLoai" nzDisabled>
                            <nz-option *ngFor="let item of phanLoais" [nzValue]="item.id" [nzLabel]="item.tenDm">
                            </nz-option>
                        </nz-select>
                    </div>
                </div>
            </nz-card>
            <nz-card nzTitle="DANH SÁCH CÔNG VĂN ĐỀ NGHỊ CẤP VỐN" [nzExtra]="tableCard1" class="mt16 flex-card p-lr16">
                <nz-table #basicTable class="nowrap">
                    <thead>
                        <tr>
                            <th width="60px">STT</th>
                            <th width="130px">Ngày lập</th>
                            <th width="175px">Nơi lập</th>
                            <th width="175px">Số q/d chỉ tiêu</th>
                            <th width="175px">Số q/d trúng thầu</th>
                            <th width="175px">Dự toán đã cấp</th>
                            <th width="175px">Số tiền đề nghị</th>
                            <th width="175px">Trạng thái</th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of lstCTietBCao; let i = index">
                            <td>{{ (i + 1) + (pages.page - 1)*pages.size }}</td>
                            <td>
                                {{item.ngayLap}}
                            </td>
                            <td>
                                {{item.noiLap}}
                            </td>
                            <td>
                                {{item.soQd}}
                            </td>
                            <td>
                                {{item.maGoiThau}}
                            </td>
                            <td>
                                {{item.dtoanDaCap}}
                            </td>
                            <td>
                                {{item.soTienDeNghi}}
                            </td>
                            <td>
                                {{getStatusName(item.trangThai)}}
                            </td>
                            <td>
                                <a routerLink="#">Xem</a>
                            </td>
                            <td>
                                <a routerLink="#">Sửa</a>
                            </td>
                            <td>
                                <a routerLink="#">Xóa</a>
                            </td>
                        </tr>
                    </tbody>
                </nz-table>
                <div class="tab-content tab-menu" id="myTabContent">
                    <div class="tab-pane fade show active justify-content-between">
                        <div class="trai">

                        </div>
                        <div class="canphai">
                            <!-- begin phân trang  -->
                            <nz-pagination class="pagination-card" [nzPageIndex]="pages.page" [nzTotal]="totalElements"
                                nzShowSizeChanger [nzPageSize]="pages.size" [nzShowTotal]="rangeTemplate"
                                (nzPageIndexChange)="onPageIndexChange($event)"
                                (nzPageSizeChange)="onPageSizeChange($event)">
                                <ng-template #rangeTemplate let-range="range" let-total>
                                    {{ range[0] }}-{{ range[1] }} of {{totalElements}} items
                                </ng-template>
                            </nz-pagination>
                            <!-- end phân trang  -->
                        </div>
                    </div>
                </div>
            </nz-card>
            <ng-template #tableCard1>
                <button type="button" class="btn btn-main" (click)="taoMoi()">
                    <i class="icon htvbdh_dau-cong"></i>
                    <span>Tạo mới</span>
                </button>
                <button type="button" class="btn btn-sub">
                    <i class="icon htvbdh_chuyen-xu-ly"></i>
                    <span>Export</span>
                </button>
            </ng-template>
        </div>
    </div>
</div>