<nz-card class="mt16 flex-card p-lr16">
  <form [nzLayout]="'vertical'" nz-form [formGroup]="formData" class="hang-theo-doi-dac-thu">
    <div class="search__body" nz-row [nzGutter]="24">
      <nz-form-item nz-col nzSpan="3" class="form-item">
        <nz-form-label nzFor="ma-don-vi">Mã đơn vị</nz-form-label>
        <nz-form-control>
          <nz-input-group id="ma-don-vi">
            <input type="text" nz-input formControlName="idDonVi" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item nz-col nzSpan="9" class="form-item">
        <nz-form-label nzFor="ten-don-vi">Tên đơn vị</nz-form-label>
        <nz-form-control>
          <nz-input-group id="ten-don-vi">
            <input type="text" nz-input formControlName="tenDonVi" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item nz-col nzSpan="4" class="form-item">
        <nz-form-label nzFor="ten-hang-hoa">Tên hàng hoá</nz-form-label>
        <nz-form-control>
          <nz-input-group id="ten-hang-hoa">
            <input type="text" nz-input formControlName="tenHangHoa" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item nz-col nzSpan="4" class="form-item">
        <nz-form-label nzFor="loai-hang-hoa">Loại hàng hoá</nz-form-label>
        <nz-form-control>
          <nz-input-group id="loai-hang-hoa">
            <input type="text" nz-input formControlName="loaiHangHoa" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>


      <nz-form-item nz-col nzSpan="4" class="form-item">
        <nz-form-label nzFor="ngay-tao">Ngày tạo danh sách</nz-form-label>
        <nz-form-control>
          <nz-range-picker formControlName="ngayTao" nzFormat="dd/MM/yyyy" id="ngay-tao" class="search__input">
          </nz-range-picker>
        </nz-form-control>
      </nz-form-item>
    </div>
  </form>
  <div class="cangiua group-button-search">
    <button nz-button class="search__button--clear">
      <i class="icon  htvbdh_nhap-lai1"></i>
      Xóa điều kiện
    </button>
    <button nz-button class="search__button--search">
      <i nz-icon nzType="search"></i>
      Tìm kiếm
    </button>
  </div>
</nz-card>

<div class="group-button">
  <h3>Danh sách hàng hỏng, giảm chất lượng do nguyên nhân bất khả kháng</h3>
  <div class="buttons">
    <button type="button" class="btn btn-sub btn-xoa" (click)="xoa()">
      <i class="fa fa-trash-o do"></i>
      <span>Xoá</span>
    </button>
    <button type="button" class="btn btn-sub" (click)="exportData()">
      <i class="icon htvbdh_chuyen-xu-ly"></i>
      <span>Xuất file</span>
    </button>
    <button type="button" class="btn btn-sub" (click)="inDanhSach()">
      <i class="icon htvbdh_tcdt_print"></i>
      <span>In</span>
    </button>
    <button type="button" class="btn btn-sub" (click)="themMoi()">
      <i class="icon htvbdh_dau-cong"></i>
      <span>Thêm</span>
    </button>
  </div>
</div>

<nz-card class="mt-16 flex-card data-table">
  <nz-table #rowSelectionTable class="nowrap" [nzData]="dataTable" [nzFrontPagination]="false"
    [nzShowPagination]="false">
    <thead>
      <tr>
        <th style="width: 5%;" [nzChecked]="allChecked" [nzIndeterminate]="indeterminate"
          (nzCheckedChange)="onAllChecked($event)"></th>
        <th class="text-center" style="width: 5%;">STT</th>
        <th style="width: 10%;">Mã danh sách</th>
        <th style="width: 40%;">Tên đơn vị</th>
        <th style="width: 15%;">Ngày tạo</th>
        <th style="width: 15%;">Trạng thái xử lý của Cục</th>
        <th width="">Hành động</th>
      </tr>
      <tr>
        <th></th>
        <th></th>
        <th class="text-center" width="350px">
          <nz-input-group [nzSuffix]="suffixIconSearch">
            <input type="text" nz-input placeholder="Tìm kiếm" />
          </nz-input-group>
        </th>
        <th>
          <nz-input-group [nzSuffix]="suffixIconSearch">
            <input type="text" nz-input placeholder="Tìm kiếm" />
          </nz-input-group>
        </th>
        <th>
          <nz-date-picker [(ngModel)]="filterDate" (ngModelChange)="onChangeFilterDate($event)"></nz-date-picker>
        </th>
        <th>
          <nz-select>
            <nz-option nzValue="{{item.id}}" nzLabel="{{item.giaTri}}" *ngFor="let item of dsTrangThai">
            </nz-option>
          </nz-select>
        </th>
        <th></th>
        <ng-template #suffixIconSearch>
          <i nz-icon nzType="search"></i>
        </ng-template>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of rowSelectionTable.data; let idx = index">
        <td [nzChecked]="setOfCheckedId.has(data.id)" [nzDisabled]="data.disabled"
          (nzCheckedChange)="onItemChecked(data.id, $event)"></td>
        <td>{{ idx + 1 }}</td>
        <td>{{ data.maDanhSach }}</td>
        <td>{{ data.tenDonVi }}</td>
        <td>{{ data.ngayTao | date: 'dd/MM/YYYY' }}</td>
        <td>{{ data.trangThai }}</td>
        <td style="text-align: center;">
          <a (click)="viewDetail(data.id, false)">
            <i class="fa fa-eye"></i>
          </a>
          <a (click)="viewDetail(data.id, true)">
            <i class="fa fa-pencil"></i>
          </a>
          <a (click)="xoaItem(data.id)">
            <i class="fa fa-trash-o do"></i>
          </a>
        </td>
      </tr>


    </tbody>
  </nz-table>
  <div class="tab-content tab-menu" id="myTabContent">
    <div class="tab-pane fade show active justify-content-between">
      <div class="trai">

      </div>
      <div class="canphai">
        <nz-pagination class="pagination-card" [nzPageIndex]="page" [nzTotal]="totalRecord" nzShowSizeChanger
          [nzPageSize]="pageSize" [nzShowTotal]="rangeTemplate" (nzPageIndexChange)="changePageIndex($event)"
          (nzPageSizeChange)="changePageSize($event)">
          <ng-template #rangeTemplate let-range="range" let-total>
            {{ range[0] }}-{{ range[1] }} of {{ total }} items
          </ng-template>
        </nz-pagination>
      </div>
    </div>
  </div>
</nz-card>