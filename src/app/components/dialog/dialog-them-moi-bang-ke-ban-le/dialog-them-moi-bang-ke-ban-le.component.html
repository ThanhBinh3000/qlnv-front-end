<div class="bg-trang">
    <div class="header header-green-background">
        <div class="header-text">
            <div class="title-chi-tieu">
                <span>BẢNG KÊ BÁN LẺ</span>
            </div>
        </div>
    </div>
    <nz-card class="mt16 flex-card p-lr16">
        <form nzLayout="vertical" nz-form [formGroup]="formData">
            <div nz-row [nzGutter]="24">
                <div nz-col [nzSpan]="4">
                    <nz-form-item class="form-item">
                        <nz-form-label [nzNoColon]="true">
                            Số bảng kê
                        </nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <input nz-input readonly formControlName="soBangKe" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label [nzNoColon]="true"> Chi cục </nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <nz-input-group>
                                <input nz-input readonly formControlName="tenDvi" />
                            </nz-input-group>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true"> Số QĐ giao nhiệm vụ XH
                            giá</nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <nz-input-group nzAddOnAfterIcon="folder-open" (click)="openDialogNvXh()">
                                <input nz-input [readonly]="true" formControlName="soQd" />
                            </nz-input-group>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label [nzNoColon]="true"> Số lượng phải xuất theo QĐ (kg)
                        </nz-form-label>
                        <nz-form-control nz-col>
                            <span class="text-green">{{formData.value.soLuong | number : '1.0-1' :
                                'vi_VN'
                                }}</span>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label [nzNoColon]="true"> Số lượng bán trực tiếp còn lại (kg)
                        </nz-form-label>
                        <nz-form-control nz-col>
                            <span class="text-green">{{formData.value.soLuongConLai | number : '1.0-1' :
                                'vi_VN'
                                }}</span>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label [nzNoColon]="true">Năm kế hoạch</nz-form-label>
                        <nz-form-control nz-col [nzSpan]="24" [nzErrorTip]="error">
                            <nz-select formControlName="namKh" [nzDisabled]="true">
                                <nz-option *ngFor="let p of listNam" [nzValue]="p.value" [nzLabel]="p.text"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true"> Người phụ trách bán trực tiếp </nz-form-label>
                        <nz-form-control nz-col [nzSpan]="24" [nzErrorTip]="error">
                            <input placeholder="" nz-input formControlName="nguoiPhuTrach" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="16">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true"> Địa chỉ nơi tổ chức bán trực tiếp </nz-form-label>
                        <nz-form-control nz-col [nzSpan]="24" [nzErrorTip]="error">
                            <input placeholder="" nz-input formControlName="diaChi" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true">Ngày bán hàng
                        </nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <nz-date-picker formControlName="ngayBanHang" nzFormat="dd/MM/yyyy">
                            </nz-date-picker>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true"> Loại hàng hóa </nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <nz-input-group nzAddOnAfterIcon="folder-open">
                                <input [readonly]="true" nz-input formControlName="tenLoaiVthh" readonly="true" />
                            </nz-input-group>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true"> Chủng loại hàng hóa </nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <nz-input-group nzAddOnAfterIcon="folder-open">
                                <input [readonly]="true" nz-input formControlName="tenCloaiVthh" readonly="true" />
                            </nz-input-group>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true" [nzNoColon]="true"> Số lượng bán trực tiếp (kg)
                        </nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <nz-input-group>
                                <nz-input-number formControlName="soLuongBtt" [nzMin]="1" [nzMax]="9999999" [nzStep]="1"
                                    [nzSize]="'small'">
                                </nz-input-number>
                            </nz-input-group>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true" [nzNoColon]="true"> Đơn giá (đ)
                        </nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <nz-input-group>
                                <nz-input-number formControlName="donGia" [nzMin]="1" [nzMax]="9999999" [nzStep]="1"
                                    [nzSize]="'small'">
                                </nz-input-number>
                            </nz-input-group>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="8">
                    <nz-form-item>
                        <nz-form-label [nzNoColon]="true"> Thành tiền (đ)
                        </nz-form-label>
                        <nz-form-control nz-col>
                            <span class="text-green">{{formData.value.thanhTien | number : '1.0-1' :
                                'vi_VN'
                                }}</span>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true"> Tên người mua </nz-form-label>
                        <nz-form-control nz-col [nzSpan]="24" [nzErrorTip]="error">
                            <input placeholder="" nz-input formControlName="tenNguoiMua" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="16">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true"> Địa chỉ người mua </nz-form-label>
                        <nz-form-control nz-col [nzSpan]="24" [nzErrorTip]="error">
                            <input placeholder="" nz-input formControlName="diaChiNguoiMua" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true"> Số CMT/CCCD </nz-form-label>
                        <nz-form-control nz-col [nzSpan]="24" [nzErrorTip]="error">
                            <input placeholder="" nz-input formControlName="cmt" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="24">
                    <nz-form-item>
                        <nz-form-label nzRequired [nzNoColon]="true">Ghi chú
                        </nz-form-label>
                        <nz-form-control nz-col>
                            <textarea nz-input [rows]="3" formControlName="ghiChu"></textarea>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col [nzSpan]="4">
                    <nz-form-item>
                        <nz-form-label [nzNoColon]="true"> Người lập bảng kê </nz-form-label>
                        <nz-form-control [nzErrorTip]="error">
                            <nz-input-group>
                                <input nz-input readonly formControlName="tenDvi" />
                            </nz-input-group>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
        </form>
    </nz-card>
</div>
<div class="modal-footer">
    <div class="nut">
        <div class="cantrai">
        </div>
        <div class="canphai">
            <button class="btn btn-outline-grey btn-sm waves-effect waves-light" (click)="onCancel()">
                <i aria-hidden="true" class="fa fa-sign-out"></i>
                Hủy
            </button>
            <button class="btn btn-outline-grey btn-sm waves-effect waves-light active" (click)="save()">
                <i aria-hidden="true" class="fa fa-save"></i>
                Lưu
            </button>
        </div>
    </div>
</div>
<ng-template #error let-control>
    <app-template-error #error [control]="control"></app-template-error>
</ng-template>