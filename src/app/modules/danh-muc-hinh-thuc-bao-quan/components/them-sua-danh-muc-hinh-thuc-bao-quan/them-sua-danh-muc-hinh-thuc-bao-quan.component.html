<form (ngSubmit)="submitForm()" #f="ngForm" novalidate>
    <ng-container *ngIf="smallScreen$ | async as smallScreen">
        <mat-card class="mat-elevation-z-p-r6" [ngClass]="'mat-elevation-z0'">
            <mat-card-header>
                <mat-card-title> {{ data.title }} </mat-card-title>
            </mat-card-header>
            <mat-card-content class="content-container">
                <ng-container *ngIf="smallScreen === 'no'" [formGroup]="form">
                    <div class="container-form-field">
                        <div class="row ">
                            <div class="col-md-12 col-sm-12 form-field">
                                <div class="label-form-field">
                                    Mã hình thức bảo quản
                                </div>
                                <div class="mt-1 input-form-field">
                                    <input nz-input 
                                    nzSize="small" 
                                    placeholder="Mã hình thức bảo quản" 
                                    formControlName="maTtrang" 
                                    [(ngModel)]="data.maTtrang"
                                    [readonly]="data.isView" />
                                </div>
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-md-12 col-sm-12 form-field">
                                <div class="label-form-field">
                                    Tên hình thức bảo quản
                                </div>
                                <div class="mt-1 input-form-field">
                                        <input nz-input
                                        nzSize="small"
                                        placeholder="Tên hình thức bảo quản" 
                                        formControlName="tenTtrang" 
                                        autocomplete="off" 
                                        [(ngModel)]="data.tenTtrang"
                                        [readonly]="data.isView"/>
                                </div>
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-md-12 col-sm-12 form-field">
                                <div class="label-form-field">
                                    Trạng thái
                                </div>
                                <div class="mt-1 input-form-field">
                                    <nz-select class="w-full" nzSize="small" [(ngModel)]="data.trangThai" appendTo="body" formControlName="trangThai" [nzDisabled]="data.isView">
                                        <nz-option *ngFor="let item of listTrangThai" [nzLabel]="item.text" [nzValue]="item.value"></nz-option>
                                    </nz-select>
                                </div>
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-md-12 col-sm-12 form-field">
                                <div class="label-form-field">
                                    Ghi chú
                                </div>
                                <div class="mt-1 input-form-field">
                                    <textarea nz-input [nzAutosize]="{ minRows: 2, maxRows: 3 }" type="text" placeholder="Ghi chú" formControlName="ghiChu"
                                    autocomplete="off" [(ngModel)]="data.ghiChu" class="form-text-area"
                                    [readonly]="data.isView"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-container>
                <app-error-box [errorMessages]="errorMessages"></app-error-box>
            </mat-card-content>
        </mat-card>
        <div class="button-group">
            <button *ngIf="!data.isView" mat-button type="submit" [mat-dialog-close]="true"
                [attr.aria-label]="'Confirm navigation'" class="btn confirm"
                [class]="form.valid ? 'btn-add-active' : ''" [disabled]="form.invalid">
                Lưu
            </button>
            <button  type="button" class="btn cancel" [mat-dialog-close]="false"
                [attr.aria-label]="'cancel navigation'" *ngIf="!data.hideCancelButton"
                (click)="closePopup()">
                Đóng
            </button>
        </div>
    </ng-container>
</form>
